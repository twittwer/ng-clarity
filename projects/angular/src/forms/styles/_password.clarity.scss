/*
 * Copyright (c) 2016-2023 VMware, Inc. All Rights Reserved.
 * This software is released under MIT license.
 * The full license information can be found in LICENSE in the root directory of this project.
 */
@use '../../utils/mixins';
@use '../../utils/variables/variables.global';
@use 'mixins.forms' as forms-mixins;
@use 'variables.forms' as forms-variables;

.clr-input-wrapper {
  input[clrPassword] {
    @include mixins.css-var(
      line-height,
      clr-forms-password-input-height,
      forms-variables.$clr-forms-password-input-height,
      variables.$clr-use-custom-properties
    );

    @include mixins.css-var(
      padding-bottom,
      clr-forms-password-padding-bottom,
      forms-variables.$clr-forms-password-padding-bottom,
      variables.$clr-use-custom-properties
    );

    @include mixins.css-var(
      margin-bottom,
      clr-forms-password-layout-space,
      forms-variables.$clr-forms-password-layout-space,
      variables.$clr-use-custom-properties
    );

    @include mixins.css-var(
      color,
      clr-forms-password-default-typography-color,
      forms-variables.$clr-forms-password-default-typography-color,
      variables.$clr-use-custom-properties
    );
  }

  input[clrPassword] + button.clr-input-group-icon-action {
    @include mixins.css-var(
      min-height,
      clr-forms-password-eye-icon-min-height,
      forms-variables.$clr-forms-password-eye-icon-min-height,
      variables.$clr-use-custom-properties
    );

    .clr-password-eye-icon {
      @include mixins.css-var(
        // TODO: Make sure we use color here instead of --cds-alias-...
        //--cds-alias-status-info-shade,
        color,
        clr-forms-password-default-eye-icon-color,
        forms-variables.$clr-forms-password-default-eye-icon-color,
        variables.$clr-use-custom-properties
      );
    }
  }

  input[clrPassword] + button.clr-input-group-icon-action[disabled] {
    .clr-password-eye-icon {
      @include mixins.css-var(
        color,
        clr-forms-password-disabled-eye-icon-color,
        forms-variables.$clr-forms-password-disabled-eye-icon-color,
        variables.$clr-use-custom-properties
      );
    }
  }

  // TODO: Double check it is okay to use :has()
  & .clr-input-group:has(input[clrPassword]) {
    @include mixins.css-var(
      border-bottom-color,
      clr-forms-password-default-underline-color,
      forms-variables.$clr-forms-password-default-underline-color,
      variables.$clr-use-custom-properties
    );
  }

  & .clr-input-group:has(input[clrPassword][disabled]) {
    @include mixins.css-var(
      border-bottom-color,
      clr-forms-password-disabled-underline-color,
      forms-variables.$clr-forms-text-disabled-color,
      variables.$clr-use-custom-properties
    );
  }

  input[clrPassword][disabled] {
    @include mixins.css-var(
      color,
      clr-forms-password-disabled-typography-color,
      forms-variables.$clr-forms-text-disabled-color,
      variables.$clr-use-custom-properties
    );
  }
}
